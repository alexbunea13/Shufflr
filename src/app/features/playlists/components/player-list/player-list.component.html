<div cdkDropList class="list" (cdkDropListDropped)="drop($event)">
  <div class="list-item" *ngFor="let song of playlist.songs; let first = first; let index = index;"
    [ngSwitch]="first"
    [ngClass]="{player: first}"
    cdkDrag>
    <ng-container *ngSwitchCase="false">
      <div class="preview">
        <img [src]="song.thumbnail">
      </div>
      <div class="body">
        <h3>{{ song.title }}</h3>
        <p>{{ song.channelTitle }}</p>
        <div class="song-buttons">
          <button (click)="changeSong(index)"
            mat-icon-button
            color="primary">
            <mat-icon>play_circle_filled</mat-icon>
          </button>
          <button (click)="offsetSong(index)"
            mat-button
            *ngIf="index !== 1"
            color="primary">Queue</button>
        </div>
      </div>
    </ng-container>
    <ng-container *ngSwitchCase="true">
      <shuf-player
        [thumbnail]="song.thumbnail"
        [title]="song.title"
        [channelTitle]="song.channelTitle"
        [youtubeId]="song.youtubeId"
        (next)="changeSong(1)"
        (previous)="changeSong(-1)"
        [isPlaying]="isPlaying">
      </shuf-player>
    </ng-container>
  </div>
</div>
